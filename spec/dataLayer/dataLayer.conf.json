{
    "baseUrl" : "https://www.simoahava.com",
    "basePath" : "/",
    "dataLayerName" : "dataLayer",
    "dataLayer" : [{
        "visitorLoginState" : {
            "pattern" : "^logged-(in|out)$"
        }
    },{
        "event" : {
            "pattern" : "^gtm.dom$"
        }
    },{
        "event" : {
            "pattern" : "^gtm.load$"
        }
    }],
    "page" : [{
        "path" : "/gtm-tips/10-useful-css-selectors/",
        "dataLayer" : [{
            "@expect" : "dataLayer to have basic article variables",
            "pageAttributes" : {
                "enum" : [["css-selectors", "google-tag-manager", "gtmtips"]]
            },
            "pageCategory" : {
                "enum": [["gtm-tips"]]
            },
            "pagePostType" : {
                "pattern" : "^post$"
            },
            "pagePostType2" : {
                "pattern": "^single-post$"
            },
            "postCountOnPage" : {
                "type" : "number"
            },
            "postCountTotal" : {
                "type" : "number"
            }
        },{
            "@expect" : "dataLayer to have article impressions",
            "event" : {
                "pattern": "^impressionsPushed$"
            },
            "ecommerce" : {
                "type" : "object",
                "properties" : {
                    "impressions" : {
                        "type" : "array",
                        "items" : [{
                            "type" : "object",
                            "properties" : {
                                "id" : {
                                    "type" : "string"
                                },
                                "name" : {
                                    "type" : "string"
                                }
                            },
                            "required" : ["name", "id"]
                        }]
                    },
                    "promoView" : {
                        "type" : "object"
                    }
                },
                "required" : ["impressions", "promoView"]
            }
        },{
            "@expect" : "dataLayer to have clientId",
            "event" : {
                "pattern" : "^trackerReady$"
            },
            "cid" : {
                "type" : "string",
                "pattern" : "[0-9]+\\.[0-9]+"
            }
        },{
            "@expect" : "dataLayer to have product detail view",
            "ecommerce" : {
                "type" : "object",
                "properties" : {
                    "detail" : {
                        "type" : "object",
                        "properties" : {
                            "actionField" : {
                                "type" : "object"
                            },
                            "products" : {
                                "type": "array",
                                "items": [{
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        }
                                    },
                                    "required" : ["id", "name"]
                                }]
                            }
                        },
                        "required" : ["products"]
                    }
                },
                "required" : ["detail"]
            },
            "doesNotExist" : {
                "@rootRequired" : false,
                "pattern" : "^someValue$"
            }
        }]
    }]
}
